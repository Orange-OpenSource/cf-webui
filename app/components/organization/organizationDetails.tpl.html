<sidebar></sidebar>

<div id="page-content">
  <topbar></topbar>
  
  <breadcrumb></breadcrumb>

  <messages></messages>
  
  <div id="page-title" class="clearfix">
    <h1 class="pull-left">Organization: {{name}}</h1>
    <div class="pull-right">
      <a class="action action-edit" ng-click="editOrganization()"><i class="fa fa-lg fa-pencil"></i></a>
      <a class="action action-delete" ng-click="deleteOrganization()"><i class="fa fa-lg fa-trash"></i></a>
    </div>
  </div><!-- /#page-title -->
  
  <div id="page-content-wrap" class="clearfix">

    <div class="row">
      <div class="col-md-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Quota</h3>
          </div>
          <div class="panel-body">
            <div class="progress">
              <div class="progress-bar" role="progressbar" aria-valuenow="{{(spacesTotalQuota/organizationTotalQuota)*100}}" aria-valuemin="0" aria-valuemax="100" style="width: {{(spacesTotalQuota/organizationTotalQuota)*100}}%;">
                {{(spacesTotalQuota/organizationTotalQuota)*100}}%
              </div>
            </div>
            <p ng-show="spacesTotalQuota !== 0 && organizationTotalQuota !== 0">{{spacesTotalQuota}} MB of {{organizationTotalQuota}} MB limit</p>
          </div>
        </div><!-- /.panel -->
      </div>
    </div><!-- /.row -->
    
    <div class="row">
      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading clearfix">
            <h3 class="panel-title pull-left">Spaces <span class="label label-default">{{nrOfSpaces}}</span></h3>
                  <a class="btn btn-success pull-right" ng-click="addSpace()"><i class="fa fa-plus"></i>&nbsp; Add a space</a>
          </div>
          <table class="table table-striped table-hover has-actions">
            <thead>
              <tr>
                <th>Name</th>
                <th>Apps</th>
                <th>Services</th>
                <th>Memory</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="space in spaces | orderBy:space.name:false">
                <td><a href="#/organizations/{{id}}/spaces/{{space.id}}">{{space.name}}</a></td>
                <td>
                  <span class="label label-success">{{space.nrOfStartedApps}} running</span>
                  <span class="label label-default">{{space.nrOfStoppedApps}} stopped</span>
                </td>
                <td>{{space.nrOfServices}}</td>
                <td>{{space.memory}} MB</td>
                <td>
                  <a class="action action-edit" ng-click="open(space)"><i class="fa fa-lg fa-pencil"></i></a>
                  <a class="action action-delete" ng-click="deleteSpace(space)"><i class="fa fa-lg fa-trash"></i></a>
                </td>
              </tr>
            </tbody>
          </table>
        </div><!-- /.panel -->
      </div>

      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading clearfix">
            <h3 class="panel-title pull-left">Domains <span class="label label-default">{{nrOfDomains}}</span></h3>
                  <a ng-click="newDomain()" class="btn btn-success pull-right"><i class="fa fa-plus"></i>&nbsp; Add a domain</a>
          </div>
          <table class="table table-striped table-hover has-actions">
            <thead>
              <tr>
                <th>Name</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="sharedDomain in sharedDomains | orderBy:name:false">
                <td>{{sharedDomain.entity.name}} <span class="label label-default">shared</span></td>
                <td>&nbsp;</td>
              </tr>
              <tr ng-repeat="privateDomain in privateDomains | orderBy:name:false">
                <td>{{privateDomain.entity.name}}</td>
                <td><a class="action action-delete" ng-click="deleteDomain(privateDomain)"><i class="fa fa-lg fa-trash"></i></a></td>
              </tr>
            </tbody>
          </table>
        </div><!-- /.panel -->
      </div>

    </div><!-- /.row -->

    
    
    <div class="row">
      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading clearfix">
            <h3 class="panel-title pull-left">Members <span class="label label-default">2</span></h3>
            <a href="#" class="btn btn-success pull-right"><i class="fa fa-plus"></i>&nbsp; Invite a member</a>
          </div>
          <table class="table table-striped table-hover has-actions">
            <thead>
              <tr>
                <th>Member</th>
                <th>Org Manager</th>
                <th>Org Billing Manager</th>
                <th>Org Auditor</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="user in allUsersForOrganization | orderBy:email:false">
                <td>{{user.metadata.guid}}</td>
                <td><input type="checkbox" checked></td>
                <td><input type="checkbox" checked></td>
                <td><input type="checkbox" checked></td>
                <td><a class="action action-delete" ng-click="deleteUser(user)"><i class="fa fa-lg fa-trash"></i></a></td>
              </tr>
            </tbody>
          </table>
        </div><!-- /.panel -->
      </div><!-- /.col-md-6 -->
    </div><!-- /.row -->
    
  </div><!-- /#page-content-wrap -->
</div><!-- /#page-content -->